:root{--bg:#000;--panel:#111;--card:#1a1a1a;--muted:#9a9a9a;--text:#fff;--accent:#ddd}
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:var(--bg);color:var(--text);font-family:Segoe UI, Roboto, Arial, sans-serif}
.container{max-width:1100px;margin:14px auto;padding:12px}
.top{display:flex;flex-direction:column;gap:12px}
.top h1{margin:0;font-size:18px}
.brand-stream{display:flex;justify-content:space-between;align-items:center;gap:12px}
.brand-title{display:flex;align-items:center;gap:10px}
.stream-indicator{display:flex;align-items:center;gap:6px;padding:4px 8px;border-radius:8px;border:1px solid #222;background:linear-gradient(180deg,#0e0e0e,#090909);font-size:12px;letter-spacing:0.3px}
.stream-dot{width:10px;height:10px;border-radius:50%;background:#555;display:inline-block;transition:background .2s,box-shadow .2s,transform .2s}
.stream-indicator.live .stream-dot{background:#ff3b3b;box-shadow:0 0 12px rgba(255,59,59,0.8);animation:streamPulse 1s ease-in-out infinite}
.stream-status{color:var(--muted);text-transform:uppercase}
.streaming-controls{display:flex;align-items:center;gap:12px;flex-wrap:wrap}
.stream-key-display{font-size:12px;color:var(--muted);border:1px solid #222;border-radius:6px;padding:6px 10px;background:#0f0f0f;min-width:160px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.stream-buttons{display:flex;gap:6px;align-items:center}
.stream-btn{display:flex;align-items:center;gap:6px;padding:6px 10px;font-size:12px;border-radius:6px;border:1px solid #2a2a2a;background:#141414}
.stream-btn svg{width:16px;height:16px}
.stream-btn span{font-size:12px}
@keyframes streamPulse{0%{transform:scale(1)}50%{transform:scale(1.2)}100%{transform:scale(1)}}
.hint{margin:0;color:var(--muted);font-size:13px}
.controls-row{display:flex;align-items:center;gap:8px}
.select{background:var(--panel);color:var(--text);border:1px solid #222;padding:8px;border-radius:6px;min-width:300px}
.icon-btn{background:transparent;border:1px solid #222;padding:8px;border-radius:6px;color:var(--muted);cursor:pointer}
.icon-btn svg{width:18px;height:18px}
.main{display:flex;gap:12px;margin-top:12px}
.panel{background:var(--card);padding:12px;border-radius:8px;flex:1}
.panel.small{flex:0 0 320px}
.panel h2{margin:0 0 10px 0;font-size:14px}
.fields-list{display:flex;flex-direction:column;gap:8px;max-height:560px;overflow:auto;padding-right:6px}
.field{display:flex;align-items:center;gap:8px;padding:8px;border-radius:6px;background:linear-gradient(180deg,#121212,#0f0f0f);border:1px solid #1a1a1a}
.field .meta{min-width:44px;color:var(--muted);font-size:13px}
.field .name{flex:1;color:var(--text);font-size:13px}
.field .val{width:90px;text-align:center;background:transparent;border:0;color:var(--accent);font-weight:600}
.btn{background:#222;border:1px solid #2a2a2a;color:var(--text);padding:6px 8px;border-radius:6px;cursor:pointer;font-size:13px}
.btn svg{width:14px;height:14px;vertical-align:middle;margin-right:6px}
.small-input{width:64px;padding:6px;border-radius:6px;background:var(--panel);border:1px solid #222;color:var(--text)}
.scoreboard{display:flex;align-items:center;justify-content:space-between;gap:12px}
.scoreboard-hero{display:flex;align-items:center;justify-content:space-between;margin-bottom:6px}
.scoreboard-hero h2{margin:0}
.scoreboard-hero .btn{font-size:12px;padding:6px 10px}
.team{flex:1;text-align:center;padding:12px}
.team-name{font-size:18px;font-weight:600;color:var(--accent);margin-bottom:8px}
/* Make team name and its edit button align horizontally */
.team-name{display:flex;align-items:center;justify-content:center;gap:8px}
.team-name .edit-btn{font-size:12px;padding:6px 8px;border-radius:6px;border:1px solid #222;background:transparent;color:var(--muted);cursor:pointer}
.team-name .edit-btn:hover{color:var(--text);border-color:#333}
.team-edit-input{padding:6px 8px;border-radius:6px;border:1px solid #222;background:var(--panel);color:var(--text)}
.team-name .color-btn{width:26px;height:26px;border-radius:6px;border:1px solid #222;background:#111;cursor:pointer}
.team-name .color-btn:focus-visible{outline:2px solid #4f8fe1;outline-offset:1px}
.color-input{display:none}
.color-apply{font-size:12px;padding:4px 6px;min-width:80px}
.score-row{display:flex;align-items:center;justify-content:center;gap:12px}
.score{font-size:48px;font-weight:800;min-width:100px;text-align:center}
.btn.big{padding:12px 14px;font-size:18px}
.vs{font-size:40px;color:var(--muted);width:48px;text-align:center}
.vs .vs-dash{line-height:1}
.center-tab-btn{background:#232323;border:1px solid #2f2f2f;color:#f5f5f5;padding:6px 10px;border-radius:6px;font-size:13px}
.center-tab-btn.active{background:#2f3b2f;border-color:#4a5b49}
.center-tab-btn:hover{background:#2a2a2a}
.action-row{display:flex;gap:8px;margin-bottom:8px}
.log{margin-top:12px;color:var(--muted);font-size:13px}
.sep{border:0;border-top:1px solid #222;margin:10px 0}
.btn.active{background:#3a3a3a;border-color:#555;color:#fff}
.foot{margin-top:12px;color:var(--muted);font-size:12px}
.muted{color:var(--muted)}
@media(max-width:900px){.main{flex-direction:column}.panel.small{width:100%}}
@media(max-width:750px){.brand-stream{flex-direction:column;align-items:flex-start}.streaming-controls{width:100%;justify-content:flex-start}.stream-buttons{flex-wrap:wrap}}
.team .btn{min-width:44px}

/* Fouls and timer styling */
#matchTimer{background:var(--panel);padding:8px;border-radius:8px;border:1px solid #222;color:var(--text)}
#homeFouls,#awayFouls{background:var(--panel);padding:6px 10px;border-radius:6px;border:1px solid #222;color:var(--text)}

.btn{min-width:36px}
.scoreboard-meta{margin-top:12px;display:flex;justify-content:center}
.half-control{display:flex;flex-direction:column;align-items:center;gap:4px;font-size:12px;color:var(--muted);}
.half-control select{min-width:80px}
.select.slim{min-width:120px;padding:4px 6px}
.replay-block{margin-top:16px;padding:10px;border-radius:8px;border:1px solid #1d1d1d;background:linear-gradient(90deg,#0d0d0d,#141414)}
.replay-block-header{display:flex;align-items:center;justify-content:space-between;gap:12px}
.replay-block h3{margin:0;font-size:14px}
.replay-actions{display:flex;gap:8px}
.icon-control{width:38px;height:38px;display:flex;align-items:center;justify-content:center;}
.icon-control svg{width:18px;height:18px}
.btn.rec{background:#8b0000;border-color:#bf2020;color:#fff;font-weight:700}
.btn.rec.rec-active{animation:recPulse 1s linear infinite;box-shadow:0 0 6px rgba(255,0,0,0.8)}
@keyframes recPulse{0%{opacity:1}50%{opacity:0.3}100%{opacity:1}}
.after-match-block{border-color:#282828;background:linear-gradient(90deg,#080808,#121212)}
.after-match-block .replay-actions{flex-wrap:wrap}

.score-extras{margin-top:12px;display:flex;gap:12px;align-items:flex-start;flex-wrap:wrap}
.score-extras .fouls{flex:1;min-width:0}
.score-extras-title{font-size:13px;color:var(--muted);margin-bottom:6px;text-align:center}
.foul-row{display:flex;gap:10px;justify-content:center;flex-wrap:wrap}
.foul-column{flex:1;min-width:120px;display:flex;flex-direction:column;align-items:center;gap:4px}
.foul-label{font-size:12px;color:var(--muted)}
.foul-value{font-size:20px;font-weight:700}
.foul-controls{display:flex;gap:6px}
.timer{min-width:220px;display:flex;flex-direction:column;gap:8px;align-items:center}
.timer-label{font-size:13px;color:var(--muted)}
.timer-display{width:100%;display:flex;justify-content:center}
.timer-display #matchTimer{font-size:22px;font-weight:800;min-width:120px;text-align:center;background:var(--panel);padding:8px;border-radius:8px;border:1px solid #222;}
    .timer-controls{display:flex;gap:6px;justify-content:center;width:100%;flex-wrap:wrap}
    .timer-controls .btn.icon-control{flex:0 0 auto;min-width:44px;padding:6px}

    /* make small +/- buttons for score more compact */
    .score-row .btn{padding:6px 8px;font-size:14px;min-width:36px}
    .score-row .btn svg{width:14px;height:14px}

@media (max-width: 425px) {
    .container {
        display: flex;
        flex-direction: column;
        margin: 0;
        padding: 4px;
        padding-bottom: 60px; /* Space for the toggle button */
        width: 100%;
        max-width: 100%;
    }
    
    .top {
        order: 10; /* Move to bottom */
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background: #000;
        border-top: 1px solid #333;
        padding: 10px;
        z-index: 100;
        transform: translateY(100%); /* Hidden by default */
        transition: transform 0.3s ease;
        height: auto;
        max-height: 80vh;
        overflow-y: auto;
        box-shadow: 0 -4px 12px rgba(0,0,0,0.5);
    }

    .top.visible {
        transform: translateY(0);
    }

    /* Toggle button for the top menu */
    .mobile-menu-toggle {
        display: flex !important; /* Show only on mobile */
        position: fixed;
        bottom: 10px;
        right: 10px;
        z-index: 101;
        background: #222;
        border: 1px solid #444;
        border-radius: 50%;
        width: 48px;
        height: 48px;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 12px rgba(0,0,0,0.5);
        color: #fff;
        cursor: pointer;
    }
    .mobile-menu-toggle svg {
        width: 24px;
        height: 24px;
    }

    /* Compact scoreboard: keep home/away on one row and tighten controls */
    .scoreboard {
        gap: 8px;
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
    }
    .team {
        padding: 6px 8px;
        flex: 0 0 auto;
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    .team-name {
        font-size: 14px;
        flex-direction: column; /* Stack name and edit button */
        gap: 4px;
    }
    .score {
        font-size: 28px;
        min-width: 44px;
        padding: 6px 10px;
    }
    .btn.big {
        padding: 6px 8px;
        font-size: 14px;
        min-width:36px;
    }
    .vs {
            width: 60px;
            font-size:20px;
            display:flex;
            flex-direction:column;
            align-items:center;
            justify-content:center;
        }
        .vs-controls{display:flex;flex-direction:column;gap:6px;align-items:center}
        .vs-controls .btn.small{padding:6px 8px;font-size:12px}
        .vs .vs-dash{margin-top:6px;font-size:22px;color:var(--muted)}
    
    /* Compact extras */
    .score-extras {
        flex-direction: column;
    }
    .fouls, .timer {
        width: 100%;
        min-width: 0 !important;
    }
    .scoreboard-hero {
        flex-direction: column;
        align-items: flex-start;
        gap: 6px;
    }
    /* ensure scores visually sit above the dash */
    .team .score-row{margin-bottom:6px}
    .score-row {
        gap: 6px;
    }
    .scoreboard-meta {
        width: 100%;
        flex-direction: column;
        align-items: center;
    }
    .score-extras {
        flex-direction: column;
    }
    .timer {
        min-width: unset !important;
        width: 100%;
    }
    
    /* Replay block compact */
    .replay-block-header {
        flex-direction: column;
        align-items: stretch;
        gap: 8px;
    }
    .replay-actions {
        display: grid;
        grid-template-columns: repeat(3, 1fr); /* Grid for buttons */
        gap: 6px;
    }
    .replay-actions .btn {
        width: 100%;
        font-size: 11px;
        padding: 8px 4px;
    }
    
    /* Hide non-critical elements or make them smaller */
    .brand-stream h1 {
        display: none; /* Save space */
    }
    
    /* Adjust main padding to not be covered by toggle */
    .main {
        margin-bottom: 50px;
        margin-top: 0;
    }
    
    .panel {
        padding: 8px;
    }
    
    /* Make action buttons grid */
    .actions .action-row {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 6px;
    }
    .actions .action-row .btn {
        width: 100%;
    }
    
    /* Streaming controls in the bottom menu */
    .streaming-controls {
        flex-direction: column;
        align-items: stretch;
    }
    .stream-buttons {
        display: grid;
        grid-template-columns: 1fr 1fr auto;
    }
    .stream-key-display {
        width: 100%;
        text-align: center;
    }
    
    /* Ensure inputs are large enough */
    .select, .small-input {
        font-size: 16px; /* Prevent zoom on iOS */
    }
    
    /* Center tab button */
    .center-tab-btn {
        font-size: 10px;
        padding: 4px 6px;
    }

    /* Compact inline fouls+timer row adjustments */
    .foul-row{flex-direction:row;align-items:center;justify-content:space-between}
    .foul-column{min-width:80px}
    .foul-value{font-size:18px}
    .foul-controls .btn{padding:6px 8px;min-width:32px}

    /* Inline timer style when placed between fouls */
    .timer-inline{display:flex;flex-direction:column;align-items:center;gap:6px;flex:0 0 120px}
    .timer-inline .timer-display #matchTimer{font-size:18px;padding:6px 8px}
    .timer-inline .timer-controls{gap:6px}
    .timer-inline .btn.icon-control{min-width:36px;padding:6px}
}

/* Landscape (mobile) — уменьшение высоты, компактная компоновка, убрать лишние блоки */
@media only screen and (orientation: landscape) and (max-height: 480px) {
    :root{--base-font-scale:0.88}
    html,body{height:100%;}
    .container{max-width:100%;margin:6px auto;padding:6px}

    /* Сжать шапку и сделать элементы компактными */
    .top{flex-direction:row;align-items:center;gap:8px;padding:4px;margin:0}
    .brand-stream{gap:8px}
    .brand-title h1{display:none}
    .stream-indicator{padding:3px 6px;font-size:11px}
    .stream-dot{width:8px;height:8px}

    /* Уменьшить панель потоков — скрыть ключ (неважно для быстрого обзора)
       и упростить кнопки */
    .stream-key-display{display:none}
    .stream-buttons .stream-btn{padding:6px 8px;font-size:12px}

    /* Разместить основную область и панель действий в одну строку */
    .main{flex-direction:row;gap:8px;margin-top:6px}
    .panel{padding:8px}
    .panel.small{flex:0 0 320px;max-width:36%}
    #panelFields{flex:1 1 64%}

    /* Уменьшить размеры табло и кнопок */
    .team-name{font-size:13px}
    .score{font-size:34px;min-width:64px}
    .vs{font-size:20px;width:40px}
    .btn.big{padding:8px 10px;font-size:14px}
    .btn{padding:6px 8px;font-size:12px}

    /* Сжать полосу статистики и таймер */
    .scoreboard-meta{margin-top:8px}
    .timer-inline{flex:0 0 110px}
    .timer-inline .timer-display #matchTimer{font-size:16px;padding:6px}

    /* Уменьшить высоты списков, убрать лишние отступы */
    .fields-list{max-height:220px}

    /* Скрыть некоторые декоративные/неважные заголовки */
    .replay-block h3, .after-match-block h3{font-size:12px}

    /* Ограничиваем вертикальную прокрутку контейнера */
    body, .container, .main {overflow:visible}

    /* По возможности уменьшить общую высоту, чтобы избежать скролла */
    html,body{font-size:14px}
}

/* Контейнер для кнопок, перемещённых в панель действий (используется при landscape на телефонах) */
.moved-replay-actions{display:flex;flex-wrap:wrap;gap:6px;margin-top:8px;align-items:center}
.moved-replay-actions .btn{min-width:72px;padding:6px 8px;font-size:12px;border-radius:6px}
/* Тонкие вертикальные разделители между кнопками */
.moved-replay-actions .btn:not(:first-child){border-left:1px solid rgba(255,255,255,0.06);margin-left:6px;padding-left:12px}
.moved-replay-actions .btn.moved-to-panel{background:transparent;border:1px solid #2a2a2a}
